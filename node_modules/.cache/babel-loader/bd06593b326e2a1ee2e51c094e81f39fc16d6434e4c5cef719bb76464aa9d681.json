{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { authApi } from \"../app/services/auth\";\nconst initialState = {\n  admin: null,\n  isAuthentificated: false\n};\nconst slice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: () => initialState\n  },\n  extraReducers: builder => {\n    builder.addMatcher(authApi.endpoints.login.matchFulfilled, (state, action) => {\n      state.admin = action.payload;\n      state.isAuthentificated = true;\n    }).addMatcher(authApi.endpoints.register.matchFulfilled, (state, action) => {\n      state.admin = action.payload;\n      state.isAuthentificated = true;\n    }).addMatcher(authApi.endpoints.current.matchFulfilled, (state, action) => {\n      state.admin = action.payload;\n      state.isAuthentificated = true;\n    });\n  }\n});\nexport const {\n  logout\n} = slice.actions;\nexport default slice.reducer;\nexport const selectIsAuthentificated = state => state.auth.isAuthentificated;\nexport const selectAdmin = state => state.auth.admin;","map":{"version":3,"names":["createSlice","authApi","initialState","admin","isAuthentificated","slice","name","reducers","logout","extraReducers","builder","addMatcher","endpoints","login","matchFulfilled","state","action","payload","register","current","actions","reducer","selectIsAuthentificated","auth","selectAdmin"],"sources":["/Users/kirill/Documents/Документы — MacBook Pro - Customer/IT/internature/ test task for IT Workin/client/src/features/authSlice.ts"],"sourcesContent":["import { Admin } from \"@prisma/client\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { authApi } from \"../app/services/auth\";\nimport { RootState } from \"../app/store\";\n\ninterface InitialState {\n    admin: Admin & {token: string} | null;\n    isAuthentificated: boolean;\n}\n\nconst initialState: InitialState = {\n    admin: null,\n    isAuthentificated: false\n}\n\nconst slice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers: {\n        logout: () => initialState\n    },\n    extraReducers: (builder) => {\n        builder\n            .addMatcher(authApi.endpoints.login.matchFulfilled, (state, action) => {\n                state.admin = action.payload;\n                state.isAuthentificated = true;\n            })\n            .addMatcher(authApi.endpoints.register.matchFulfilled, (state, action) => {\n                state.admin = action.payload;\n                state.isAuthentificated = true;\n            })\n            .addMatcher(authApi.endpoints.current.matchFulfilled, (state, action) => {\n                state.admin = action.payload;\n                state.isAuthentificated = true;\n            })\n    }\n})\n\nexport const { logout } = slice.actions;\nexport default slice.reducer;\nexport const selectIsAuthentificated = (state: RootState) => state.auth.isAuthentificated;\nexport const selectAdmin = (state: RootState) => state.auth.admin;\n"],"mappings":"AACA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,sBAAsB;AAQ9C,MAAMC,YAA0B,GAAG;EAC/BC,KAAK,EAAE,IAAI;EACXC,iBAAiB,EAAE;AACvB,CAAC;AAED,MAAMC,KAAK,GAAGL,WAAW,CAAC;EACtBM,IAAI,EAAE,MAAM;EACZJ,YAAY;EACZK,QAAQ,EAAE;IACNC,MAAM,EAAEA,CAAA,KAAMN;EAClB,CAAC;EACDO,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,UAAU,CAACV,OAAO,CAACW,SAAS,CAACC,KAAK,CAACC,cAAc,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACnED,KAAK,CAACZ,KAAK,GAAGa,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACX,iBAAiB,GAAG,IAAI;IAClC,CAAC,CAAC,CACDO,UAAU,CAACV,OAAO,CAACW,SAAS,CAACM,QAAQ,CAACJ,cAAc,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACtED,KAAK,CAACZ,KAAK,GAAGa,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACX,iBAAiB,GAAG,IAAI;IAClC,CAAC,CAAC,CACDO,UAAU,CAACV,OAAO,CAACW,SAAS,CAACO,OAAO,CAACL,cAAc,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACrED,KAAK,CAACZ,KAAK,GAAGa,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACX,iBAAiB,GAAG,IAAI;IAClC,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEI;AAAO,CAAC,GAAGH,KAAK,CAACe,OAAO;AACvC,eAAef,KAAK,CAACgB,OAAO;AAC5B,OAAO,MAAMC,uBAAuB,GAAIP,KAAgB,IAAKA,KAAK,CAACQ,IAAI,CAACnB,iBAAiB;AACzF,OAAO,MAAMoB,WAAW,GAAIT,KAAgB,IAAKA,KAAK,CAACQ,IAAI,CAACpB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}